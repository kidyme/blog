<h1>Docker</h1>
<h2>Ubuntu</h2>
<p>删除旧docker及旧docker依赖</p>
<div class="code-container">
            <div><span class='copy-btn' onclick="copyToClipboard(this)">复制</span></div>
            <pre><code class="">for pkg in docker.io docker-doc docker-compose docker-compose-v2 podman-docker containerd runc; do sudo apt-get remove $pkg; done</code></pre>
          </div><p>删除旧docker数据</p>
<div class="code-container">
            <div><span class='copy-btn' onclick="copyToClipboard(this)">复制</span></div>
            <pre><code class="">sudo rm -rf &#x2F;var&#x2F;lib&#x2F;docker
sudo rm -rf &#x2F;var&#x2F;lib&#x2F;containerd</code></pre>
          </div><p>设置docker的apt仓库</p>
<div class="code-container">
            <div><span class='copy-btn' onclick="copyToClipboard(this)">复制</span></div>
            <pre><code class=""># Add Docker&#39;s official GPG key:
sudo apt-get update
sudo apt-get install ca-certificates curl
sudo install -m 0755 -d &#x2F;etc&#x2F;apt&#x2F;keyrings
sudo curl -fsSL https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;ubuntu&#x2F;gpg -o &#x2F;etc&#x2F;apt&#x2F;keyrings&#x2F;docker.asc
sudo chmod a+r &#x2F;etc&#x2F;apt&#x2F;keyrings&#x2F;docker.asc

# Add the repository to Apt sources:
echo \
  &quot;deb [arch&#x3D;$(dpkg --print-architecture) signed-by&#x3D;&#x2F;etc&#x2F;apt&#x2F;keyrings&#x2F;docker.asc] https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;ubuntu \
  $(. &#x2F;etc&#x2F;os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;) stable&quot; | \
  sudo tee &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;docker.list &gt; &#x2F;dev&#x2F;null
sudo apt-get update</code></pre>
          </div><p>安装docker</p>
<div class="code-container">
            <div><span class='copy-btn' onclick="copyToClipboard(this)">复制</span></div>
            <pre><code class="">sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</code></pre>
          </div><p>测试是否成功安装</p>
<div class="code-container">
            <div><span class='copy-btn' onclick="copyToClipboard(this)">复制</span></div>
            <pre><code class="">sudo docker run hello-world</code></pre>
          </div>
    <script>
    function copyToClipboard(button) {
      const code = button.parentNode.querySelector('pre code').textContent;
      navigator.clipboard.writeText(code).then(() => {
      }).catch(err => {
      });
    }
    </script>
    